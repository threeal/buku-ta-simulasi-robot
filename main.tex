\title{Buku Tugas Akhir ITS}
\author{Maulana, Alfi}

\documentclass[10pt,twoside]{report}
\usepackage[a5paper,top=25mm,left=25mm,right=20mm,bottom=25mm]{geometry}
\usepackage[singlespacing]{setspace}
\usepackage[bahasa]{babel}
\usepackage[pdfauthor={\@author},bookmarksnumbered,pdfborder={0 0 0}]{hyperref}
\usepackage[utf8]{inputenc}
\usepackage[table,xcdraw]{xcolor}
\usepackage[numbers]{natbib}
\usepackage{changepage}
\usepackage{enumitem}
\usepackage{eso-pic}
\usepackage{etoolbox}
\usepackage{graphicx}
\usepackage{import}
\usepackage{lipsum}
\usepackage{lmodern}
\usepackage{longtable}
\usepackage{multido}
\usepackage{rotating}
\usepackage{tabularx}
\usepackage{wrapfig}
\usepackage{csvsimple}

\patchcmd{\cleardoublepage}{\hbox{}}{
  \thispagestyle{empty}
  \vspace*{\fill}
  \begin{center}\textit{[Halaman ini sengaja dikosongkan]}\end{center}
  \vfill}{}{}

\usepackage{fancyhdr}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\pagestyle{fancy}
\fancyfoot[CE,CO]{\thepage}
\patchcmd{\chapter}{plain}{fancy}{}{}
\patchcmd{\chapter}{empty}{plain}{}{}

\usepackage{titlesec}
\titleformat{\chapter}[display]{\bfseries\Large}{BAB \centering\Roman{chapter}}{0ex}{\vspace{0ex}\centering}
\titleformat{\section}{\bfseries\large}{\MakeUppercase{\thesection}}{1ex}{\vspace{1ex}}
\titleformat{\subsection}{\bfseries\large}{\MakeUppercase{\thesubsection}}{1ex}{}
\titleformat{\subsubsection}{\bfseries\large}{\MakeUppercase{\thesubsubsection}}{1ex}{}
\titlespacing{\chapter}{0ex}{0ex}{4ex}
\titlespacing{\section}{0ex}{1ex}{0ex}
\titlespacing{\subsection}{0ex}{0.5ex}{0ex}
\titlespacing{\subsubsection}{0ex}{0.5ex}{0ex}

\usepackage{listings}
\renewcommand{\lstlistingname}{Kode}
\definecolor{comment}{RGB}{0,128,0}
\definecolor{string}{RGB}{255,0,0}
\definecolor{keyword}{RGB}{0,0,255}
\lstdefinestyle{codestyle}{
  commentstyle=\color{comment},
  stringstyle=\color{string},
  keywordstyle=\color{keyword},
  basicstyle=\footnotesize\ttfamily,
  numbers=left,
  numberstyle=\tiny,
  numbersep=5pt,
  frame=lines,
  breaklines=true,
  prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
  showstringspaces=false,
  upquote=true,
  tabsize=2,
}
\lstset{style=codestyle}

\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

\subimport{pustaka}{tanda-hubung.tex}

\newenvironment{cover}[1]{
  \AddToShipoutPictureBG*{
    \AtPageLowerLeft{
      \hspace{-3.5mm}
      \raisebox{0mm}{
        \includegraphics[width=\paperwidth,height=\paperheight]{#1}
      }
    }
  }
  \thispagestyle{empty}
  \newgeometry{top=95mm,left=25mm,right=20mm,bottom=25mm}
  \begin{flushleft}
    \sffamily
    \fontseries{bx}
    \selectfont
}{
  \end{flushleft}
  \restoregeometry
}

\begin{document}

  \begin{cover}{sampul/gambar/sampul-luar.png}
    \color{white}
    \subimport{sampul}{sampul-id.tex}
  \end{cover}

  \setcounter{page}{1}

  \begin{cover}{sampul/gambar/sampul-dalam.png}
    \subimport{sampul}{sampul-id.tex}
  \end{cover}
  \cleardoublepage

  \begin{cover}{sampul/gambar/sampul-dalam.png}
    \subimport{sampul}{sampul-en.tex}
  \end{cover}
  \cleardoublepage

  \setlength{\parindent}{2em}
  \setlength{\parskip}{1ex}

  \subimport{lainnya}{pernyataan-keaslian.tex}
  \cleardoublepage

  \subimport{lainnya}{lembar-pengesahan.tex}
  \cleardoublepage

  \pagenumbering{roman}

  \subimport{abstrak}{abstrak-id.tex}
  \cleardoublepage

  \subimport{abstrak}{abstrak-en.tex}
  \cleardoublepage

  \subimport{lainnya}{kata-pengantar.tex}
  \cleardoublepage

  \renewcommand*\contentsname{DAFTAR ISI}
  \addcontentsline{toc}{chapter}{\contentsname}
  \tableofcontents
  \cleardoublepage

  \renewcommand*\listfigurename{DAFTAR GAMBAR}
  \addcontentsline{toc}{chapter}{\listfigurename}
  \listoffigures
  \cleardoublepage

  \renewcommand*\lstlistlistingname{DAFTAR KODE}
  \addcontentsline{toc}{chapter}{\lstlistlistingname}
  \lstlistoflistings
  \cleardoublepage

  \renewcommand*\listtablename{DAFTAR TABEL}
  \addcontentsline{toc}{chapter}{\listtablename}
  \listoftables
  \cleardoublepage

  \pagenumbering{arabic}

  \subimport{bab}{1-pendahuluan.tex}
  \cleardoublepage

  \subimport{bab}{2-tinjauan-pustaka.tex}
  \cleardoublepage

  \subimport{bab}{3-desain-implementasi.tex}
  \cleardoublepage

  \subimport{bab}{4-pengujian-analisis.tex}
  \cleardoublepage

  \subimport{bab}{5-penutup.tex}
  \cleardoublepage

  \renewcommand\bibname{DAFTAR PUSTAKA}
  \addcontentsline{toc}{chapter}{\bibname}
  \bibliographystyle{unsrtnat}
  \bibliography{pustaka/kutipan.bib}
  \cleardoublepage

\end{document}
